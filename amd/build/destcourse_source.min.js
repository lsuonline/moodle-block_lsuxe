define ("block_lsuxe/destcourse_source",["jquery","core/ajax","block_lsuxe/notifications","block_lsuxe/xe_lib"],function(a,b,c,d){"use strict";return{getGroups:function(a,b){var c={type:"GET",url:sessionStorage.getItem("currentUrl")+"/webservice/rest/server.php",data:{wstoken:sessionStorage.getItem("currentToken"),wsfunction:"core_group_get_course_user_groups",courseid:b,moodlewsrestformat:"json"}};return d.jaxyRemotePromise(c)},processSelected:function(a){var b="",c="";if(1<a.selector.length){}else if(1==a.selector.length){b=a.selector[0].label;c=a.selector[0].value.split("__")[0];this.getGroups(b,c)}else{}},onSelected:function(a,b){this.processSelected({selector:a,data:b})},getCourses:function(b){var b={type:"GET",url:sessionStorage.getItem("currentUrl")+"/webservice/rest/server.php",data:{wstoken:sessionStorage.getItem("currentToken"),wsfunction:"core_course_search_courses",criterianame:"search",criteriavalue:a(".xe_dest_sn_wrap input").val(),moodlewsrestformat:"json"}};return d.jaxyRemotePromise(b)},processResults:function(b,d){if("success"in d&&!1==d.success){if("Could not connect to the server."==d.msg){c.callNoti({message:d.msg,type:"error"});return}}else if(0<d.courses.length){var e=[];a.each(d.courses,function(a,b){e.push({value:b.id+"__"+b.shortname,label:b.shortname})});return e}c.callNoti({message:"Sorry, can't seem to reach anything at the moment, please contact the Moodle Dev team.",type:"error"})},transport:function(a,b,c){this.getCourses().then(c).catch()}}});
//# sourceMappingURL=destcourse_source.min.js.map
