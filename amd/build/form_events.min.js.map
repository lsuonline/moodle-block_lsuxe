{"version":3,"file":"form_events.min.js","names":["define","$","XELib","Noti","getTokenReady","url","text","getTokenForURL","then","response","success","sessionStorage","setItem","data","console","log","getGroupData","params","jaxyPromise","call","class","setHiddenValue","tag","value","val","verifySourceCourse","verifyDestCourse","new_params","type","getItem","wstoken","wsfunction","moodlewsrestformat","field","coursename","jaxyRemotePromise","resetGroupList","empty","append","attr","registerMoodleEvents","on","test_url","test_token","datachunk","JSON","stringify","test","testWebServices","callNoti","message","msg","registerMappingEvents","that","src_form_select","change","courseid","count","first_choice","i","groupid","groupname","new_value","find","new_text","length","id","destname","courses","registerEvents","init"],"sources":["../src/form_events.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Cross Enrollment Tool\n *\n * @package   block_lsuxe\n * @copyright 2008 onwards Louisiana State University\n * @copyright 2008 onwards David Lowe, Robert Russo\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n // define(['jquery', 'block_lsuxe/xe_lib', 'block_lsuxe/notifications', 'block_lsuxe/verify'],\n define(['jquery', 'block_lsuxe/xe_lib', 'block_lsuxe/notifications'],\n    // function($, XELib, Noti, Veri) {\n    function($, XELib, Noti) {\n    'use strict';\n    return {\n\n        /**\n         * Fetch the token for the current selected URL. Store in temp sessionStorage\n         *\n         * @param null\n         * @return void\n         */\n        getTokenReady: function () {\n            // Check to see if this is the first time landing or not.\n            var url = $('#id_available_moodle_instances option:selected').text();\n            XELib.getTokenForURL(url).then(function (response) {\n                if (response.success == true) {\n                    sessionStorage.setItem(\"currentToken\", response.data);\n                    sessionStorage.setItem(\"currentUrl\", url);\n                } else {\n                    console.log(\"ERROR: Failed to get the token :-( \");\n                    // TODO: Send Notification to user that token is crap\n                }\n            });\n        },\n\n        /**\n         * Get group data from a course.\n         * @param {object} the json object sent to the server\n         * @return resolved data\n         */\n        getGroupData: function (params) {\n            return XELib.jaxyPromise({\n                'call': 'get_group_data',\n                'params': params,\n                'class': 'router'\n            });\n        },\n\n        /**\n         * Moodle removes any changed option/select elements. In order to maintain\n         * the data push data into hidden some that are in the form's page.\n         *\n         * @param {string} tag name of the tag to be changed\n         * @param {string} value the value to insert\n         * @return {void}\n         */\n        setHiddenValue: function (tag, value) {\n            $('input[name='+tag+']').val(value);\n        },\n\n        /**\n         * Verify the source course and group.\n         *\n         * @param {object} params the json object sent to the server\n         * @return {Object} resolved data\n         */\n        verifySourceCourse: function (params) {\n            return XELib.jaxyPromise({\n                'call': 'verify_course',\n                'params': params,\n                'class': 'router'\n            });\n        },\n\n        /**\n         * Verify the destination course.\n         *\n         * @param {object} params the json object sent to the server\n         * @return {Object} resolved data\n         */\n        verifyDestCourse: function (params) {\n            var new_params = {\n                'type': 'GET',\n                'url': sessionStorage.getItem(\"currentUrl\") + '/webservice/rest/server.php',\n                'data': {\n                    'wstoken': sessionStorage.getItem(\"currentToken\"),\n                    'wsfunction': 'core_course_get_courses_by_field',\n                    'moodlewsrestformat': 'json',\n                    'field': 'shortname',\n                    'value': params.coursename\n                }\n            };\n            return XELib.jaxyRemotePromise(new_params);\n        },\n\n        /**\n         * Reset the dropdown for the source group.\n         *\n         * @return null\n         */\n        resetGroupList: function () {\n            $('#id_srccoursegroupnameselect').empty();\n            $('#id_srccoursegroupnametext').text();\n            $('#id_srccoursegroupnameselect')\n                .append($(\"<option></option>\")\n                .attr(\"value\", 0)\n                .text(\"Please search for a course first\"));\n        },\n\n        /**\n         * Register all the events for the Mappings Form Page.\n         * @return {void}\n         */\n        registerMoodleEvents: function() {\n            // This is for the Moodles Form\n            $('#id_verifysource').on('click', function() {\n                var test_url = $(\"#id_instanceurl\").val(),\n                    test_token = $(\"#id_instancetoken\").val();\n\n                var params = {\n                    'type': 'GET',\n                    // 'type': 'POST',\n                    // 'url': test_url + '/admin/webservice/testclient.php',\n                    'url': test_url + '/webservice/rest/server.php',\n                    'data': {\n                        'wstoken': test_token,\n                        'wsfunction': 'block_lsuxe_xeajax',\n                        'moodlewsrestformat': 'json',\n                        // 'data': {\n                        'datachunk': JSON.stringify({\n                            'call': 'test_service',\n                            'params': {\n                                'test': 'test',\n                            },\n                            'class': 'router'\n                        })\n                    }\n                };\n\n                XELib.testWebServices(params).then(function (response) {\n                    if (response.success == false) {\n                        Noti.callNoti({\n                            message: response.msg,\n                            type: 'error'\n                        });\n                    } else {\n                        Noti.callNoti({\n                            message: \"Successfully said hello to the remote Moodle instance .\",\n                            type: 'success'\n                        });\n                    }\n\n                });\n            });\n        },\n\n        /**\n         * Register all the events for the Mappings Form Page.\n         * @return void\n         */\n        registerMappingEvents: function() {\n            var that = this,\n                src_form_select = $(\"#id_srccourseshortname\");\n\n            src_form_select.change(function() {\n                if (src_form_select.val()) {\n                    // change invokes any change so only make an ajax call if there is value\n                    that.getGroupData({\n                        'courseid': src_form_select.val(),\n                        'coursename': $( \"#id_srccourseshortname option:selected\" ).text()\n                    },).then(function (response) {\n                        // if the text is disabled then use select\n                        if (response.count == 0) {\n                            // There are no groups, reset.\n                            that.resetGroupList();\n\n                        } else {\n                            // Multiple groups, so let's unhide the select\n                            $('#id_srccoursegroupnameselect').empty();\n                            var first_choice = \"\";\n                            for (let i in response.data) {\n                                // This is to store the first select and to be used.\n                                if (first_choice == \"\") {\n                                    first_choice = {\n                                        groupid: response.data[i].groupid,\n                                        groupname: response.data[i].groupname\n                                    };\n                                }\n                                $('#id_srccoursegroupnameselect')\n                                    .append($(\"<option></option>\")\n                                    .attr(\"value\", response.data[i].groupid)\n                                    .text(response.data[i].groupname));\n                            }\n\n                            // Now that it's been populated, set the hidden elements to match the first\n                            // select option.\n                            that.setHiddenValue('srccoursegroupname', first_choice.groupname);\n                            that.setHiddenValue('srccoursegroupid', first_choice.groupid);\n                        }\n\n                    });\n                } else {\n                    // if there is no value in the course name then clear out the group name.\n                    that.resetGroupList();\n                }\n            });\n\n            // Any changes to the group element, update the hidden.\n            $(\"#id_srccoursegroupnameselect\").change(function() {\n                var new_value = $(this).find(\"option:selected\").attr('value'),\n                    new_text = $(this).find(\"option:selected\").text();\n                that.setHiddenValue('srccoursegroupname', new_text);\n                that.setHiddenValue('srccoursegroupid', new_value);\n            });\n\n            // Verify the Course and Group Names.\n            $('#id_verifysource').on('click', function() {\n                var coursename = \"\",\n                    groupname = \"\";\n\n                // If we are using the autocomplete feature then the jquery\n                // selector is different.\n                if (sessionStorage.getItem(\"xes_autocomplete\") == \"1\") {\n                    coursename = $(\"#id_srccourseshortname\").find(\"option:selected\").text();\n                    groupname = $(\"#id_srccoursegroupnameselect\").find(\"option:selected\").text();\n                } else {\n                    coursename = $(\"#id_srccourseshortname\").val();\n                    groupname = $(\"#id_srccoursegroupname\").val();\n                }\n\n                if (coursename.length < 1) {\n                    // User forgot to enter a course name.\n                    Noti.callNoti({\n                        message: \"Ooops, you forgot to enter a course short name\",\n                        type: 'error'\n                    });\n                    return;\n                }\n\n                if (groupname.length < 1) {\n                    // User forgot to enter a course name.\n                    Noti.callNoti({\n                        message: \"Ooops, you forgot to enter a group name\",\n                        type: 'error'\n                    });\n                    return;\n                }\n                that.verifySourceCourse({\n                    'coursename': coursename,\n                    'groupname': groupname\n                }).then( function (response) {\n                    if (response.success == false) {\n                        Noti.callNoti({\n                            message: response.msg,\n                            type: 'error'\n                        });\n                    } else {\n                        // Populate the hidden fields since we are here.\n                        that.setHiddenValue('srccourseid', response.data.id);\n                        that.setHiddenValue('srccoursegroupid', response.data.groupid);\n                        Noti.callNoti({\n                            message: \"Everything checks out for the sourse course and group.\",\n                            type: 'success'\n                        });\n                    }\n                });\n\n            });\n\n            $('#id_verifydest').on('click', function() {\n                var destname = $(\"#id_destcourseshortname\").val();\n\n                that.verifyDestCourse({\n                    'coursename': destname\n                }).then( function (response){\n                    if ((\"courses\" in response)) {\n                        // how many courses were retrieved\n                        if (response.courses.length == 1) {\n                            that.setHiddenValue('destcourseid', response.courses[0].id);\n\n                            Noti.callNoti({\n                                message: \"Destination course is there and waiting for you.\",\n                                type: 'success'\n                            });\n                        } else {\n                            Noti.callNoti({\n                                message: \"There seems to be more than one course with that shortname.\",\n                                type: 'warn'\n                            });\n                        }\n                    } else {\n                        // FALSE\n                        Noti.callNoti({\n                            message: \"The course: \" + destname + \" was not found on the destination server.\",\n                            type: 'error'\n                        });\n                    }\n                });\n            });\n\n            // Register events on the moodles form,\n            // onChange event for the URL selector\n            $('select#id_available_moodle_instances').on('change', function() {\n                that.getTokenReady();\n\n                // Clear out the Destination Course Shorname\n                $('div.xe_dest_course_auto ul.form-autocomplete-suggestions').empty();\n                $('div.xe_dest_course_auto input').val('');\n                $('span.notifications').empty();\n            });\n        },\n\n        /**\n         * These are registered events being loaded that are NOT being called from mustache templates\n         * @param null\n         * @return resolved data\n         */\n        registerEvents: function () {\n\n            // Let's not load all events, just what we need.\n            if (sessionStorage.getItem('xe_form') == \"mappings\" && sessionStorage.getItem('xe_viewform') == \"true\") {\n                // Register events on the mappings form.\n                this.registerMappingEvents();\n\n            } else if (sessionStorage.getItem('xe_form') == \"moodles\" && sessionStorage.getItem('xe_viewform') == \"true\") {\n                // Register events on the mappings form.\n                this.registerMoodleEvents();\n                // Veri.registerCheckMarkTags()\n                // TODO: move from template to here.\n            }\n        },\n\n        /**\n         * The entry point for the mappings and moodles form.\n         * Register the events and load the token.\n         *\n         * @return null\n         */\n        init: function () {\n            this.registerEvents();\n            this.getTokenReady();\n        }\n    };\n});"],"mappings":"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"}